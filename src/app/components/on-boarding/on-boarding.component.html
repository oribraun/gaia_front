<section class="on-boarding">
    <div id="onBoardingCarousel" class="carousel slide" data-bs-ride="false" data-target="#onBoardingCarousel">
        <div class="carousel-inner">
            <div class="carousel-item" [ngClass]="{'active': current_page == 'area_of_interest'}">
                <div class="page">
                    <div class="header">
                        <div class="eng">Select your area of interest: (up to 5 topics)</div>
                        <div class="native">סמן את התחומים שמעניינים אותך (עד 5 נושאים)</div>
                    </div>
                    <div class="interest">
                        <div class="box-wrap" *ngFor="let item of areaOfInterestItems | keyvalue">
                            <div class="box box-hover"
                                 [ngClass]="{'active': onBoardingObject.area_of_interest.indexOf(item.key) > -1}"
                                 [ngStyle]="{'background-image': 'url(' + imageSrc + areaOfInterestItems[getString(item.key)].image + ')'}"
                                 (click)="selectInterest(item.key)">
                                <div class="text">{{item.key}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons text-center" *ngIf="onBoardingObject.area_of_interest.length > 1">
                        <button class="btn btn-primary" (click)="goToNextPage('be_more_specific')">Next</button>
                    </div>
                </div>
            </div>
            <div class="carousel-item" [ngClass]="{'active': current_page == 'be_more_specific'}">
                <div class="page">
                    <div class="header">
                        <div class="eng">Be more specific please</div>
                        <div class="native">תהיה יותר ספציפי. הסיבה שאנחנו שואלים כי אנחנו רוצים להתאים את תוכן הקורס לתחומי העניין שלך.</div>
                    </div>
                    <div class="interest">
                        <div class="box-wrap" *ngFor="let item of onBoardingObject.be_more_specific | keyvalue">
                            <div class="box"
                                 [ngStyle]="{'background-image': 'url(' + imageSrc + areaOfInterestItems[getString(item.key)].image + ')'}"
                            >
                                <div class="text">{{item.key}}</div>
                            </div>
                            <div class="specific">
                                <div class="item"
                                     (click)="selectBeMoreSpecific(item ,specificItem)"
                                     [ngClass]="{'active': this.onBoardingObject.be_more_specific[getString(item.key)].indexOf(specificItem) > -1}"
                                     *ngFor="let specificItem of areaOfInterestItems[getString(item.key)].specific">
                                    {{specificItem}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons text-center">
                        <button class="btn btn-primary" (click)="goToPrevPage('area_of_interest')">Prev</button>
                        <button
                            *ngIf="onBoardingObject.area_of_interest.length > 1"
                            class="btn btn-primary" (click)="goToNextPage('familiar_words')">Next</button>
                    </div>
                </div>
            </div>
            <div class="carousel-item" [ngClass]="{'active': current_page == 'familiar_words'}">
                <div class="page">
                    <div class="header">
                        <div class="eng">Please select words you are familiar with</div>
                        <div class="native">סמן את המילים שאתה מכיר</div>
                    </div>
                    <div class="interest">
                        <div class="box-wrap" *ngFor="let word of familiarWords">
                            <div class="box box-hover"
                                 [ngClass]="{'active': onBoardingObject.familiar_words.indexOf(word) > -1}"
                                 (click)="selectFamiliarWords(word)">
                                <div class="text">{{word}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons text-center">
                        <button class="btn btn-primary" (click)="goToPrevPage('be_more_specific')">Prev</button>
                        <button
                            *ngIf="onBoardingObject.familiar_words.length > 0"
                            class="btn btn-primary" (click)="goToNextPage('video_answer')">Next</button>
                    </div>
                </div>
            </div>
            <div class="carousel-item" [ngClass]="{'active': current_page == 'video_answer'}">
                <div class="page">
                    <div class="header">
                        <div class="eng">Watch the video and answer the questions</div>
                        <div class="native">צפה בוידאו וענה על השאלה</div>
                    </div>
                    <div class="video" #video>
                        <youtube-player
                            *ngIf="videoDetails"
                            [videoId]="videoDetails.id"
                            [startSeconds]="videoDetails.start_time"
                            [endSeconds]="videoDetails.end_time"
                            [height]="videoDetails.height"
                            [width]="videoDetails.width"
                            (ready)="onPlayerReady($event)"
                            (stateChange)="onPlayerStateChange($event)"
                        >
                        </youtube-player>
                    </div>
                    <div class="interest text-center">
                        <div class="box-wrap" *ngFor="let word of videoAnswers">
                            <div class="box box-hover"
                                 [ngClass]="{'active': onBoardingObject.video_answer === word}"
                                 (click)="selectVideoAnswer(word)">
                                <div class="text">{{word}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons text-center">
                        <button class="btn btn-primary" (click)="goToPrevPage('familiar_words')">Prev</button>
                        <button
                            *ngIf="onBoardingObject.video_answer"
                            class="btn btn-primary" (click)="goToNextPage('picture_sentence')">Next</button>
                    </div>
                </div>
            </div>
            <div class="carousel-item" [ngClass]="{'active': current_page == 'picture_sentence'}">
                <div class="page">
                    <div class="header">
                        <div class="eng">Write a sentence about the following picture</div>
                        <div class="native">כתוב מספר משפטים באנגלית לגבי התמונה</div>
                    </div>
                    <div class="sentence">
                        <div class="row">
                            <div class="col-6">
                                <div class="textarea">
                                    <textarea [(ngModel)]="onBoardingObject.picture_sentence" name="" id="" cols="30" rows="10"></textarea>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="image">
                                    <img [src]="imageSrc + image" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="buttons text-center">
                        <button class="btn btn-primary" (click)="goToPrevPage('video_answer')">Prev</button>
                        <button
                            *ngIf="onBoardingObject.picture_sentence.length"
                            class="btn btn-primary" (click)="onFinish()">Done</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
