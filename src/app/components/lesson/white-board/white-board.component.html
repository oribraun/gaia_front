
<ng-template #selected_slide_container let-model="model">
    <app-greeting
    *ngIf="model.currentSlide.slide_type === sectionTitles.greeting"
    [currentSlide]="model.currentSlide"
    ></app-greeting>
    <app-reading
        *ngIf="model.currentSlide.slide_type === sectionTitles.reading"
        [currentSlide]="model.currentSlide"
    ></app-reading>
    <app-word-repeater
        *ngIf="model.currentSlide.slide_type === sectionTitles.word_repeater"
        [currentSlide]="model.currentSlide"
        [recognitionText]="recognitionText"
    ></app-word-repeater>
    <app-image-generator
        *ngIf="model.currentSlide.slide_type === sectionTitles.image_generator"
        [currentSlide]="model.currentSlide"
    ></app-image-generator>
    <app-agenda
        *ngIf="model.currentSlide.slide_type === sectionTitles.agenda"
        [currentSlide]="model.currentSlide"
    ></app-agenda>
    <app-ending
        *ngIf="model.currentSlide.slide_type === sectionTitles.ending"
        [currentSlide]="model.currentSlide"
    ></app-ending>
    <app-blanks
        *ngIf="model.currentSlide.slide_type === sectionTitles.blanks"
        [currentSlide]="model.currentSlide"
    ></app-blanks>
    <app-video
    *ngIf="model.currentSlide.slide_type === sectionTitles.video"
    [currentSlide]="model.currentSlide"
></app-video>
</ng-template>


<ng-template #bundle_container let-model="model">
    <div class="flex-container">
        <ng-container *ngFor="let slide of currentSlide.bundle; let id=index;">
            <div class="daniel" [ngClass]="{'daniel_highlight':id==currentSlide.index_in_bundle}">
                <ng-container *ngTemplateOutlet="selected_slide_container;context: {'model': {'currentSlide':slide} }"></ng-container>
            </div>
        </ng-container>
    </div>
</ng-template>

<ng-template #native_instructions let-model="model">
    <div class="general-box text-board">
        <div class="text">
            <div class="outer-scroller">
                <div class="inner-scroller dir-rtl">
                    <span class="text">
                        {{currentSlide.native_language_text.he}}
                    </span>
                </div>
            </div>
        </div>
        <div class="image">
            <img src="{{imageSrc}}assets/images/icons/speak_icon.png">
        </div>
    </div>    
</ng-template>

<div class="header">
    <div class="logo">
        <img src="{{imageSrc}}assets/images/icons/logo.png">
    </div>
    <div class="exit" (click)="resetPresentation()">
        <img src="{{imageSrc}}assets/images/icons/exit_icon.png"> <span>Exit</span>
    </div>
</div>

<div class="white-board" [ngClass]="currentSlide.slide_type && {'white-board-full-screen': currentSlide.full_screen}">
    <!-- If it is a bundle -->
    <ng-container *ngIf="currentSlide.bundle_id>-1">
        <ng-container *ngTemplateOutlet="bundle_container;context: {'model': {} }"></ng-container>
    </ng-container>
    <!-- If it is a single slide -->
    <ng-container *ngIf="currentSlide.bundle_id==-1">
        <ng-container *ngTemplateOutlet="selected_slide_container;context: {'model': {'currentSlide':currentSlide} }"></ng-container>
    </ng-container>
    <!-- Add also native language instructions -->
    <ng-container *ngTemplateOutlet="native_instructions;context: {'model': {} }"></ng-container>
</div>
